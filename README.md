# ScanQR

ScanQR — это iOS-приложение для сканирования QR- и штрих-кодов, отображения детальной информации о продуктах и сохранения истории сканирований.

Приложение написано на **SwiftUI**, с архитектурой **MVVM**, использованием **Combine** и **Core Data** для хранения данных.

## Возможности
- 📷 Сканирование QR- и штрих-кодов через камеру устройства
- 🧾 Для штрих-кодов: получение информации о продукте через OpenFoodFacts API (название, бренд, ингредиенты, Nutri-Score)
- 🔗 Для QR-кодов: отображение содержимого, поддержка открытия ссылок
- 💾 Сохранение отсканированных кодов в Core Data
- 📝 Возможность указать или изменить название кода перед сохранением
- 📚 Экран истории со списком всех сохранённых кодов
- 🔍 Экран деталей кода с возможностью поделиться информацией
- 💡 Всплывающее окно с предложением сохранить найденный код
- 🔦 Управление фонариком во время сканирования
- ⚙️ Уведомления об отсутствии доступа к камере и переход в настройки

## Архитектура проекта

**Проект построен по принципам MVVM + Coordinator + Combine.**

```text
BarcodeScannerApp/
│
├── App/
│   ├── BarcodeScannerApp.swift        // Точка входа (App struct)
│   ├── AppCoordinator.swift           // Главный координатор навигации
│   └── RootView.swift                 // TabView — навигация по основным модулям
│
├── Modules/
│   ├── Scanner/
│   │   ├── ScannerView.swift
│   │   ├── ScannerViewModel.swift
│   │   └── ScannerModel.swift
│   │
│   ├── Saved/
│   │   ├── ScannedListView.swift
│   │   └── ScannedListViewModel.swift
│   │
│   └── Detail/
│       ├── DetailView.swift
│       └── DetailViewModel.swift
│
├── Services/
│   ├── Camera/
│   │   └── CameraService.swift
│   └── Network/
│       └── NetworkService.swift
│
├── Storage/
│   ├── PersistenceController.swift
│   └── ScannedCode+CoreData.swift
│
├── Models/
│   └── Product.swift
│
├── Repositories/
│   ├── CodeRepository.swift
│   └── ProductRepository.swift
│
├── Resources/
│   └── Assets.xcassets
│
└── Utils/
    └── Extensions/

**Принципы и технологии**
Технология	Применение
**SwiftUI	UI**
**Combine**	Подписка на события камеры, реактивное обновление состояния
**Core Data**	Локальное хранение отсканированных кодов
**AVFoundation**	Работа с камерой и обработка QR/штрих-кодов
**MVVM**	Разделение логики, данных и интерфейса
**Dependency Injection**	Передача зависимостей (CameraService, CodeRepository) в ViewModel
**Coordinator Pattern**	Управление переходами между экранами
**Async/Await**	Загрузка информации о продуктах
🧾 **Использование**

Запустите приложение
При первом запуске разрешите доступ к камере.
Наведите камеру на QR-код или штрих-код.
Приложение автоматически определит тип кода.
Подтвердите сохранение.
Всплывёт окно, где можно ввести (или отредактировать) название кода.
Просматривайте историю
Перейдите во вкладку Сохранённые — там отображаются все коды.
Нажмите на код → откроется экран Детали, где:
можно просмотреть название, бренд, ингредиенты, Nutri-Score;
открыть ссылку (если это QR-код);
поделиться данными через системное меню.

📩 Контакт: @pavel_nest


 **Возможные улучшения**
Добавить редактирование сохранённых кодов прямо из экрана деталей
Поддержка истории с сортировкой и поиском
Кэширование данных о продуктах
Добавить iCloud синхронизацию# ScanQR
